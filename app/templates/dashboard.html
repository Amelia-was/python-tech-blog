{% extends "layout/main.html" %}

{% block body %}

<h2>Your Dashboard</h3>

    <form class="new-post-form mb-2 p-2 centered">
        <h3 class="p-0 pb-2">Create New Post</h3>
        <div class="form-input flex-column align-start">
            <label for="post-title">Title</label>
            <input type="text" placeholder="Title" id="post-title" name="post-title" maxlength="100" />
        </div>
        <div class="form-input flex-column align-start">
            <label for="post-body">Post body</label>
            <textarea id="post-body" name="post-text" maxlength="5000" placeholder="Start writing..."></textarea>
        </div>
        <div class="form-input">
            <label for="post-tags">Tag your post</label>
            <div class="'btn-list" id="tags">
                {% for tag in tags %}
                <button type="button" class="btn btn-line">
                    {{tag.name}}
                </button>
                {% endfor %}
                <label for="newTag" class="d-none">Add a new tag</label>
                <input type="text" id="newTag" name="newTag" maxlength="20" class="input-btn-style" autocomplete="off" placeholder="add a new tag..." />
            </div>
        </div>
        <button type="submit" class="btn">Post</button>
    </form>


    {% if posts|length > 0 %}
    <h3>Your Posts</h3>
    <section>
        <ol class="flex-row dashboard-posts">
            {% for post in posts %}
            <li class="dashboard-post mb-1 mr-1">
                {% include "partials/post-info.html" %}
                <a href="/dashboard/edit/{{post.id}}" class="edit-link btn"><i class="fas fa-pencil-alt"
                        alt="Edit Post"></i> Edit</a>
            </li>
            {% endfor %}
        </ol>
    </section>
    {% else %}
    <h3>You haven't made any posts yet!</h3>
    {% endif %}

    <script src='/javascript/add-post.js'></script>
{% endblock %}